[2022-11-14T06:27:33.321+0000] {taskinstance.py:1165} INFO - Dependencies all met for <TaskInstance: walmart-ml-workflow.train manual__2022-11-14T06:27:23.678197+00:00 [queued]>
[2022-11-14T06:27:33.364+0000] {taskinstance.py:1165} INFO - Dependencies all met for <TaskInstance: walmart-ml-workflow.train manual__2022-11-14T06:27:23.678197+00:00 [queued]>
[2022-11-14T06:27:33.365+0000] {taskinstance.py:1362} INFO - 
--------------------------------------------------------------------------------
[2022-11-14T06:27:33.365+0000] {taskinstance.py:1363} INFO - Starting attempt 1 of 4
[2022-11-14T06:27:33.366+0000] {taskinstance.py:1364} INFO - 
--------------------------------------------------------------------------------
[2022-11-14T06:27:33.413+0000] {listener.py:27} INFO - TaskInstance Details: dag_id=walmart-ml-workflow, task_id=train, dagrun_id=manual__2022-11-14T06:27:23.678197+00:00, map_index=-1, run_start_date=2022-11-14 06:27:33.329824+00:00, try_number=1, job_id=95, op_classpath=airflow.operators.bash.BashOperator
[2022-11-14T06:27:33.541+0000] {factory.py:123} ERROR - Did not find openlineage.yml and OPENLINEAGE_URL is not set
[2022-11-14T06:27:33.543+0000] {factory.py:44} WARNING - Couldn't initialize transport; will print events to console.
[2022-11-14T06:27:33.553+0000] {console.py:22} INFO - {"eventTime": "2022-11-14T06:27:33.329824Z", "eventType": "START", "inputs": [], "job": {"facets": {"documentation": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/0.15.1/integration/airflow", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/DocumentationJobFacet", "description": "A simple Machine Learning workflow for Walmart Sales"}}, "name": "walmart-ml-workflow.train", "namespace": "default"}, "outputs": [], "producer": "https://github.com/OpenLineage/OpenLineage/tree/0.15.1/integration/airflow", "run": {"facets": {"airflow_runArgs": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/0.15.1/integration/airflow", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/BaseFacet", "externalTrigger": true}, "airflow_version": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/0.15.1/integration/airflow", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/BaseFacet", "airflowVersion": "2.4.2+astro.1", "openlineageAirflowVersion": "0.15.1", "operator": "airflow.operators.bash.BashOperator", "taskInfo": {"_BaseOperator__from_mapped": false, "_BaseOperator__init_kwargs": {"bash_command": "python3 /usr/local/airflow/scripts/train.py", "depends_on_past": false, "email": [], "email_on_failure": false, "email_on_retry": false, "owner": "Anat Lev-Ari", "retries": 3, "retry_delay": "0:05:00", "task_id": "train"}, "_BaseOperator__instantiated": true, "_dag": {"dag_id": "walmart-ml-workflow", "schedule_interval": "1 day, 0:00:00", "tags": []}, "_log": "<Logger airflow.task.operators (INFO)>", "append_env": false, "bash_command": "python3 /usr/local/airflow/scripts/train.py", "depends_on_past": false, "do_xcom_push": true, "downstream_task_ids": "set()", "email": [], "email_on_failure": false, "email_on_retry": false, "executor_config": {}, "ignore_first_depends_on_past": true, "inlets": [], "outlets": [], "output_encoding": "utf-8", "owner": "Anat Lev-Ari", "params": "{}", "pool": "default_pool", "pool_slots": 1, "priority_weight": 1, "queue": "default", "retries": 3, "retry_delay": "0:05:00", "retry_exponential_backoff": false, "skip_exit_code": 99, "start_date": "2022-11-13T00:00:00+00:00", "task_group": "<airflow.utils.task_group.TaskGroup object at 0x402c16beb0>", "task_id": "train", "trigger_rule": "all_success", "upstream_task_ids": "{'get_store_data'}", "wait_for_downstream": false, "weight_rule": "downstream"}}, "nominalTime": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/0.15.1/integration/airflow", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/NominalTimeRunFacet", "nominalStartTime": "2022-11-14T06:27:23.678197Z"}, "parent": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/0.15.1/integration/airflow", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/ParentRunFacet", "job": {"name": "walmart-ml-workflow", "namespace": "default"}, "run": {"runId": "7829ef48-28a2-36dc-a9c2-02ce6cf5e1f1"}}, "parentRun": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/0.15.1/integration/airflow", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/ParentRunFacet", "job": {"name": "walmart-ml-workflow", "namespace": "default"}, "run": {"runId": "7829ef48-28a2-36dc-a9c2-02ce6cf5e1f1"}}, "unknownSourceAttribute": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/0.15.1/integration/airflow", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/BaseFacet", "unknownItems": [{"name": "BashOperator", "properties": {"_BaseOperator__from_mapped": false, "_BaseOperator__init_kwargs": {"bash_command": "python3 /usr/local/airflow/scripts/train.py", "depends_on_past": false, "email": [], "email_on_failure": false, "email_on_retry": false, "owner": "Anat Lev-Ari", "retries": 3, "retry_delay": "<<non-serializable: timedelta>>", "task_id": "train"}, "_BaseOperator__instantiated": true, "_dag": "<<non-serializable: DAG>>", "_log": "<<non-serializable: Logger>>", "append_env": false, "bash_command": "python3 /usr/local/airflow/scripts/train.py", "depends_on_past": false, "do_xcom_push": true, "downstream_task_ids": [], "email": [], "email_on_failure": false, "email_on_retry": false, "executor_config": {}, "ignore_first_depends_on_past": true, "inlets": [], "outlets": [], "output_encoding": "utf-8", "owner": "Anat Lev-Ari", "params": "<<non-serializable: ParamsDict>>", "pool": "default_pool", "pool_slots": 1, "priority_weight": 1, "queue": "default", "retries": 3, "retry_delay": "<<non-serializable: timedelta>>", "retry_exponential_backoff": false, "skip_exit_code": 99, "start_date": "<<non-serializable: DateTime>>", "task_group": "<<non-serializable: TaskGroup>>", "task_id": "train", "trigger_rule": "all_success", "upstream_task_ids": [], "wait_for_downstream": false, "weight_rule": "downstream"}, "type": "operator"}]}}, "runId": "62ce8a1a-9fc2-4540-a478-cd89962ebabe"}}
[2022-11-14T06:27:33.559+0000] {taskinstance.py:1383} INFO - Executing <Task(BashOperator): train> on 2022-11-14 06:27:23.678197+00:00
[2022-11-14T06:27:33.566+0000] {standard_task_runner.py:55} INFO - Started process 358 to run task
[2022-11-14T06:27:33.575+0000] {standard_task_runner.py:82} INFO - Running: ['airflow', 'tasks', 'run', 'walmart-ml-workflow', 'train', 'manual__2022-11-14T06:27:23.678197+00:00', '--job-id', '95', '--raw', '--subdir', 'DAGS_FOLDER/walmart-ml-workflow.py', '--cfg-path', '/tmp/tmp3scrfy1i']
[2022-11-14T06:27:33.581+0000] {standard_task_runner.py:83} INFO - Job 95: Subtask train
[2022-11-14T06:27:33.624+0000] {logging_mixin.py:120} WARNING - /usr/local/lib/python3.9/site-packages/airflow/configuration.py:545 DeprecationWarning: The sql_alchemy_conn option in [core] has been moved to the sql_alchemy_conn option in [database] - the old setting has been used, but please update your config.
[2022-11-14T06:27:33.765+0000] {task_command.py:376} INFO - Running <TaskInstance: walmart-ml-workflow.train manual__2022-11-14T06:27:23.678197+00:00 [running]> on host b7841698cbf3
[2022-11-14T06:27:34.002+0000] {taskinstance.py:1590} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_EMAIL=anatleva@gmail.com
AIRFLOW_CTX_DAG_OWNER=Anat Lev-Ari
AIRFLOW_CTX_DAG_ID=walmart-ml-workflow
AIRFLOW_CTX_TASK_ID=train
AIRFLOW_CTX_EXECUTION_DATE=2022-11-14T06:27:23.678197+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=manual__2022-11-14T06:27:23.678197+00:00
[2022-11-14T06:27:34.005+0000] {subprocess.py:63} INFO - Tmp dir root location: 
 /tmp
[2022-11-14T06:27:34.007+0000] {subprocess.py:75} INFO - Running command: ['/bin/bash', '-c', 'python3 /usr/local/airflow/scripts/train.py']
[2022-11-14T06:27:34.028+0000] {subprocess.py:86} INFO - Output:
[2022-11-14T06:27:41.039+0000] {subprocess.py:93} INFO - X_train size (8195, 15), y_train size (8195,)
[2022-11-14T06:27:41.042+0000] {subprocess.py:93} INFO - X_test size (2049, 15), y_test size (2049,)
[2022-11-14T06:27:41.043+0000] {subprocess.py:93} INFO - model score: 0.949
[2022-11-14T06:27:41.324+0000] {subprocess.py:97} INFO - Command exited with return code 0
[2022-11-14T06:27:41.399+0000] {taskinstance.py:1401} INFO - Marking task as SUCCESS. dag_id=walmart-ml-workflow, task_id=train, execution_date=20221114T062723, start_date=20221114T062733, end_date=20221114T062741
[2022-11-14T06:27:41.437+0000] {console.py:22} INFO - {"eventTime": "2022-11-14T06:27:41.398792Z", "eventType": "COMPLETE", "inputs": [], "job": {"facets": {}, "name": "walmart-ml-workflow.train", "namespace": "default"}, "outputs": [], "producer": "https://github.com/OpenLineage/OpenLineage/tree/0.15.1/integration/airflow", "run": {"facets": {"unknownSourceAttribute": {"_producer": "https://github.com/OpenLineage/OpenLineage/tree/0.15.1/integration/airflow", "_schemaURL": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/BaseFacet", "unknownItems": [{"name": "BashOperator", "properties": {"_BaseOperator__from_mapped": false, "_BaseOperator__init_kwargs": {"bash_command": "python3 /usr/local/airflow/scripts/train.py", "depends_on_past": false, "email": [], "email_on_failure": false, "email_on_retry": false, "owner": "Anat Lev-Ari", "retries": 3, "retry_delay": "<<non-serializable: timedelta>>", "task_id": "train"}, "_BaseOperator__instantiated": true, "_dag": "<<non-serializable: DAG>>", "_log": "<<non-serializable: Logger>>", "append_env": false, "bash_command": "python3 /usr/local/airflow/scripts/train.py", "depends_on_past": false, "do_xcom_push": true, "downstream_task_ids": [], "email": [], "email_on_failure": false, "email_on_retry": false, "executor_config": {}, "ignore_first_depends_on_past": true, "inlets": [], "outlets": [], "output_encoding": "utf-8", "owner": "Anat Lev-Ari", "params": "<<non-serializable: ParamsDict>>", "pool": "default_pool", "pool_slots": 1, "priority_weight": 1, "queue": "default", "retries": 3, "retry_delay": "<<non-serializable: timedelta>>", "retry_exponential_backoff": false, "skip_exit_code": 99, "start_date": "<<non-serializable: DateTime>>", "task_group": "<<non-serializable: TaskGroup>>", "task_id": "train", "trigger_rule": "all_success", "upstream_task_ids": [], "wait_for_downstream": false, "weight_rule": "downstream"}, "type": "operator"}]}}, "runId": "62ce8a1a-9fc2-4540-a478-cd89962ebabe"}}
[2022-11-14T06:27:41.476+0000] {local_task_job.py:164} INFO - Task exited with return code 0
[2022-11-14T06:27:41.531+0000] {local_task_job.py:273} INFO - 0 downstream tasks scheduled from follow-on schedule check
